/* Source and licensing information for the line(s) below can be found at http://taronga.org.au/core/modules/statistics/statistics.js. */
(function($,Drupal,drupalSettings){$(document).ready(function(){$.ajax({type:'POST',cache:false,url:drupalSettings.statistics.url,data:drupalSettings.statistics.data})})})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at http://taronga.org.au/core/modules/statistics/statistics.js. */;
/* Source and licensing information for the line(s) below can be found at http://taronga.org.au/core/misc/jquery.tabbable.shim.js. */
(function($,Drupal,_ref){var isTabbable=_ref.isTabbable;$.extend($.expr[':'],{tabbable:function tabbable(element){Drupal.deprecationError({message:'The :tabbable selector is deprecated in Drupal 9.2.0 and will be removed in Drupal 10.0.0. Use the core/tabbable library instead. See https://www.drupal.org/node/3183730'});if(element.tagName==='SUMMARY'||element.tagName==='DETAILS'){var tabIndex=element.getAttribute('tabIndex');if(tabIndex===null||tabIndex<0)return false};return isTabbable(element)}})})(jQuery,Drupal,window.tabbable)
/* Source and licensing information for the above line(s) can be found at http://taronga.org.au/core/misc/jquery.tabbable.shim.js. */;
/* Source and licensing information for the line(s) below can be found at http://taronga.org.au/core/misc/position.js. */
(function($){var cachedScrollbarWidth=null,max=Math.max,abs=Math.abs,regexHorizontal=/left|center|right/,regexVertical=/top|center|bottom/,regexOffset=/[+-]\d+(\.[\d]+)?%?/,regexPosition=/^\w+/,regexPercent=/%$/,_position=$.fn.position
function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(regexPercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(regexPercent.test(offsets[1])?height/100:1)]}
function parseCss(element,property){return parseInt($.css(element,property),10)||0}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9)return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};if($.isWindow(raw))return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};if(raw.preventDefault)return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}};var collisions={fit:{left:function left(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0){position.left=withinOffset}else if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth}else position.left=withinOffset}else if(overLeft>0){position.left+=overLeft}else if(overRight>0){position.left-=overRight}else position.left=max(position.left-collisionPosLeft,position.left)},top:function top(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>0&&overTop<=0){position.top=withinOffset}else if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight}else position.top=withinOffset}else if(overTop>0){position.top+=overTop}else if(overBottom>0){position.top-=overBottom}else position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function left(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==='left'?-data.elemWidth:data.my[0]==='right'?data.elemWidth:0,atOffset=data.at[0]==='left'?data.targetWidth:data.at[0]==='right'?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=myOffset+atOffset+offset}},top:function top(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==='top',myOffset=top?-data.elemHeight:data.my[1]==='bottom'?data.elemHeight:0,atOffset=data.at[1]==='top'?data.targetHeight:data.at[1]==='bottom'?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop))position.top+=myOffset+atOffset+offset}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom)position.top+=myOffset+atOffset+offset}}},flipfit:{left:function left(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];collisions.flip.left.apply(this,args);collisions.fit.left.apply(this,args)},top:function top(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];collisions.flip.top.apply(this,args);collisions.fit.top.apply(this,args)}}};$.position={scrollbarWidth:function scrollbarWidth(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;var div=$('<div '+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$('body').append(div);var w1=innerDiv.offsetWidth;div.css('overflow','scroll');var w2=innerDiv.offsetWidth;if(w1===w2)w2=div[0].clientWidth;div.remove();cachedScrollbarWidth=w1-w2;return cachedScrollbarWidth},getScrollInfo:function getScrollInfo(within){var overflowX=within.isWindow||within.isDocument?'':within.element.css('overflow-x'),overflowY=within.isWindow||within.isDocument?'':within.element.css('overflow-y'),hasOverflowX=overflowX==='scroll'||overflowX==='auto'&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==='scroll'||overflowY==='auto'&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function getWithinInfo(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||'flip').split(' '),offsets={},target=typeof options.of==='string'?$(document).find(options.of):$(options.of),dimensions=getDimensions(target),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset;if(target[0].preventDefault)options.at='left top';var basePosition=$.extend({},targetOffset);$.each(['my','at'],function(){var pos=(options[this]||'').split(' ');if(pos.length===1)pos=regexHorizontal.test(pos[0])?pos.concat(['center']):regexVertical.test(pos[0])?['center'].concat(pos):['center','center'];pos[0]=regexHorizontal.test(pos[0])?pos[0]:'center';pos[1]=regexVertical.test(pos[1])?pos[1]:'center';var horizontalOffset=regexOffset.exec(pos[0]),verticalOffset=regexOffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[regexPosition.exec(pos[0])[0],regexPosition.exec(pos[1])[0]]});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==='right'){basePosition.left+=targetWidth}else if(options.at[0]==='center')basePosition.left+=targetWidth/2;if(options.at[1]==='bottom'){basePosition.top+=targetHeight}else if(options.at[1]==='center')basePosition.top+=targetHeight/2;var atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,'marginLeft'),marginTop=parseCss(this,'marginTop'),collisionWidth=elemWidth+marginLeft+parseCss(this,'marginRight')+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,'marginBottom')+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==='right'){position.left-=elemWidth}else if(options.my[0]==='center')position.left-=elemWidth/2;if(options.my[1]==='bottom'){position.top-=elemHeight}else if(options.my[1]==='center')position.top-=elemHeight/2;position.left+=myOffset[0];position.top+=myOffset[1];var collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(['left','top'],function(i,dir){if(collisions[collision[i]])collisions[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})});if(options.using)using=function using(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?'left':left>0?'right':'center',vertical:bottom<0?'top':top>0?'bottom':'middle'};if(targetWidth<elemWidth&&abs(left+right)<targetWidth)feedback.horizontal='center';if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical='middle';if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important='horizontal'}else feedback.important='vertical';options.using.call(this,props,feedback)};elem.offset($.extend(position,{using:using}))})};if(!$.hasOwnProperty('ui'))$.ui={};$.ui.position=collisions})(jQuery)
/* Source and licensing information for the above line(s) can be found at http://taronga.org.au/core/misc/position.js. */;
/* Source and licensing information for the line(s) below can be found at http://taronga.org.au/modules/contrib/search_autocomplete/js/jquery.autocomplete.js. */
(function($,Drupal,drupalSettings){"use strict";var autocomplete
function escapeRegExp(str){str=$.trim(str);return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}
function autocompleteSplitValues(value){var result=[],quote=false,current='',valueLength=value.length,i,character;for(i=0;i<valueLength;i++){character=value.charAt(i);if(character==='"'){current+=character;quote=!quote}else if(character===','&&!quote){result.push(current.trim());current=''}else current+=character};if(value.length>0)result.push($.trim(current));return result}
function extractLastTerm(terms){return autocomplete.splitValues(terms).pop()}
function searchHandler(event){var options=autocomplete.options,term=autocomplete.extractLastTerm(event.target.value);if(term.length>0&&options.firstCharacterBlacklist.indexOf(term[0])!==-1)return false;return term.length>=options.minLength}
function sourceData(request,response){var elementId=this.element.attr('id');if(!(elementId in autocomplete.cache))autocomplete.cache[elementId]={};var key=this.element.data("key")
function showSuggestions(suggestions){var tagged=autocomplete.splitValues(request.term);for(var i=0,il=tagged.length;i<il;i++){var index=suggestions.indexOf(tagged[i]);if(index>=0)suggestions.splice(index,1)};response(suggestions)}
function sourceCallbackHandler(data){autocomplete.cache[elementId][term]=data;const length=data.length;if(key)data=data.slice(0,autocomplete.options.forms[key].maxSuggestions);if(key)if(data.length){var moreResults=replaceInObject(autocomplete.options.forms[key].moreResults,'\\[search-phrase\\]',request.term);moreResults=replaceInObject(moreResults,'\\[search-count\\]',length);data.push(moreResults)}else{var noResult=replaceInObject(autocomplete.options.forms[key].noResult,'\\[search-phrase\\]',request.term);data.push(noResult)};showSuggestions(data)};var term=autocomplete.extractLastTerm(request.term);if(autocomplete.cache[elementId].hasOwnProperty(term)){showSuggestions(autocomplete.cache[elementId][term])}else{var data={},path='';if(key&&autocomplete.options.forms[key]){path=autocomplete.options.forms[key].source;$.each(autocomplete.options.forms[key].filters,function(key,value){data[value]=term})}else{path=this.element.attr('data-autocomplete-path');data.q=term};var options=$.extend({success:sourceCallbackHandler,data:data},autocomplete.ajax);$.ajax(path,options)}}
function focusHandler(){return false}
function selectHandler(event,ui){var terms=autocomplete.splitValues(event.target.value);terms.pop();const helper=document.createElement("textarea");helper.innerHTML=ui.item.value;ui.item.value=helper.value;if(ui.item.value.search(",")>0){terms.push('"'+ui.item.value+'"')}else terms.push(ui.item.value);event.target.value=terms.join(', ');var key=$(event.target).data('key');if(key&&autocomplete.options.forms[key].autoRedirect==1&&ui.item.link){document.location.href=ui.item.link}else if(key&&autocomplete.options.forms[key].autoSubmit==1&&ui.item.value){$(this).val(ui.item.value);const form=$(this).closest("form");const submit=$('[type="submit"]',form);if(submit.length===1){submit.click()}else form.submit()};return false}
function renderItem(ul,item){var term=this.term,first=("group"in item)?'first':'',innerHTML='<div class="ui-autocomplete-fields '+first+'">',regex=new RegExp('('+escapeRegExp(term)+')','gi');if(item.fields){var helper=document.createElement("textarea");$.each(item.fields,function(key,value){helper.innerHTML=value;value=helper.value;var output=value;if(value.indexOf('src=')==-1&&value.indexOf('href=')==-1)output=value.replace(regex,"<span class='ui-autocomplete-field-term'>$1</span>");innerHTML+=('<div class="ui-autocomplete-field-'+key+'">'+output+'</div>')})}else{var output=item.label;if(item.group&&item.group.group_id!='more_results'&&item.group.group_id!='no_results')output=item.label.replace(regex,"<span class='ui-autocomplete-field-term'>$1</span>");innerHTML+=('<div class="ui-autocomplete-field">'+output+'</div>')};innerHTML+='</div>';if("group"in item){var groupId=typeof(item.group.group_id)!=='undefined'?item.group.group_id:'',groupName=typeof(item.group.group_name)!=='undefined'?item.group.group_name:'';$('<div class="ui-autocomplete-field-group ui-state-disabled '+groupId+'">'+groupName+'</div>').appendTo(ul)};var elem=$("<li class=ui-menu-item-"+first+"></li>").append("<a>"+innerHTML+"</a>");if(item.value=='')elem=$("<li class='ui-state-disabled ui-menu-item-"+first+" ui-menu-item'>"+item.label+"</li>");elem.data("item.autocomplete",item).appendTo(ul);return elem}
function resizeMenu(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+5,this.options.position.of==null?this.element.outerWidth():this.options.position.of.outerWidth()))}
function replaceInObject(stash,needle,replacement){var regex=new RegExp(needle,"g"),input=Drupal.checkPlain(replacement),result={};$.each(stash,function(index,value){if($.type(value)==="string"){result[index]=value.replace(regex,input)}else result[index]=value});return result};Drupal.behaviors.autocomplete={attach:function(context){var $autocomplete=$(context).find('input.form-autocomplete');$.each(autocomplete.options.forms,function(key,value){var elem=$(context).find(autocomplete.options.forms[key].selector).data("key",key).addClass('form-autocomplete').attr('data-id',key);$autocomplete=$.merge($autocomplete,elem)});$.each($autocomplete,function(key,value){value=$(value);var key=value.data("key");value.once('autocomplete');if(value.length){var blacklist=value.attr('data-autocomplete-first-character-blacklist'),formId='#'+$(this).closest('form').attr('id');$.extend(autocomplete.options,{firstCharacterBlacklist:blacklist?blacklist:'',minLength:(typeof key!=='undefined')?autocomplete.options.forms[key].minChars:autocomplete.options.minLength,appendTo:formId?formId:'body'});value.autocomplete(autocomplete.options).data("ui-autocomplete")._renderItem=autocomplete.options.renderItem;if(value.data("key"))value.autocomplete("widget").attr("data-sa-theme",autocomplete.options.forms[value.data("key")].theme)}})},detach:function(context,settings,trigger){if(trigger==='unload')$(context).find('input.form-autocomplete').removeOnce('autocomplete').autocomplete('destroy')}};autocomplete={cache:{},splitValues:autocompleteSplitValues,extractLastTerm:extractLastTerm,options:{source:sourceData,focus:focusHandler,search:searchHandler,select:selectHandler,renderItem:renderItem,resizeMenu:resizeMenu,minLength:1,firstCharacterBlacklist:'',forms:drupalSettings.search_autocomplete?drupalSettings.search_autocomplete:[]},ajax:{dataType:'json'}};Drupal.autocomplete=autocomplete})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at http://taronga.org.au/modules/contrib/search_autocomplete/js/jquery.autocomplete.js. */;
/* Source and licensing information for the line(s) below can be found at http://taronga.org.au/modules/contrib/gtranslate/js/jquery-slider.js. */
jQuery(document).ready(function() {
  jQuery('.switcher .selected').click(function() {if(!(jQuery('.switcher .option').is(':visible'))) {jQuery('.switcher .option').stop(true,true).delay(50).slideDown(800);}});
  jQuery('body').not('.switcher .selected').mousedown(function() {if(jQuery('.switcher .option').is(':visible')) {jQuery('.switcher .option').stop(true,true).delay(300).slideUp(800);}});
});
/* Source and licensing information for the above line(s) can be found at http://taronga.org.au/modules/contrib/gtranslate/js/jquery-slider.js. */;
